# Discrete-math-lab-2
Звіт:
Загальний опис
Цей код реалізує просту мережеву систему обміну повідомленнями між кількома клієнтами через сервер. Основною особливістю є використання RSA-шифрування для захисту переданих даних, а також використання хеш-функції SHA-256 для перевірки цілісності повідомлень. Система складається з трьох файлів: client.py, server.py та rsa.py.
Файл rsa.py — модуль шифрування
Цей файл містить допоміжні функції, необхідні для роботи з RSA:
is_prime(n) — перевіряє, чи є число простим.
modinv(a, m) — обчислює обернене число по модулю, необхідне для розрахунку приватного ключа.
generate_keys() — генерує пару відкритого та закритого ключів RSA. Для цього вибираються два випадкових простих числа, обчислюється модуль n, функція Ейлера phi та обирається експонента e, взаємно проста з phi. Потім розраховується d — обернене до e.
encrypt_message(message, enc_key) — шифрує текстове повідомлення по символьному рівні (кожна літера окремо) з використанням відкритого ключа.
decrypt_message(cypher, private_key) — розшифровує текст, використовуючи приватний ключ.
Файл server.py — серверна частина
Клас Server відповідає за прийом підключень та обробку повідомлень клієнтів.
Основні дії:
При запуску сервер створює сокет, слухає підключення на заданому порту.
Після підключення клієнт надсилає своє ім’я.
Сервер надсилає свій відкритий ключ клієнту.
Потім сервер приймає відкритий ключ клієнта.
Сервер шифрує свій закритий ключ відкритим ключем клієнта і надсилає його. Таким чином клієнт отримує "секретний ключ" для подальшого шифрування/розшифрування.
Для кожного клієнта створюється окремий потік, у якому обробляються повідомлення.
Коли сервер отримує повідомлення від одного клієнта, він надсилає його всім іншим клієнтам.
Повідомлення передаються разом з хешем SHA-256, що дозволяє клієнтам перевірити цілісність повідомлення після розшифрування.
Файл client.py — клієнтська частина
Клас Client відповідає за встановлення з'єднання із сервером, шифрування/розшифрування повідомлень та обробку вводу/виводу користувача.
Основні етапи:
Клієнт створює TCP-з'єднання із сервером.
Відправляє серверу своє ім’я.
Отримує відкритий ключ сервера.
Генерує власну пару ключів RSA та надсилає відкритий ключ серверу.
Отримує від сервера зашифрований приватний ключ, який використовує як "секретний ключ".
Створюються два окремих потоки:
Один постійно слухає вхідні повідомлення від сервера, розшифровує їх і перевіряє цілісність за допомогою SHA-256.
Інший обробляє введення повідомлень від користувача, додає хеш і шифрує повідомлення публічним ключем сервера перед відправленням.
Перевірка цілісності повідомлень
Для кожного повідомлення, яке відправляється або транслюється сервером, разом із текстом передається його хеш SHA-256. На стороні отримувача повідомлення розшифровується, хеш порівнюється з обчисленим заново. Якщо хеші співпадають — повідомлення вважається дійсним і не пошкодженим при передачі.

Розподіл виконаної роботи
Антон Депутат:

Розробив логіку генерації ключів у функції generate_keys.

Реалізував допоміжні математичні функції: is_prime для перевірки простих чисел та modinv для знаходження оберненого по модулю числа.

Тарас Копач:

Реалізував функції шифрування (encrypt_message) та розшифрування (decrypt_message) за RSA.

Імплементував використання SHA-256 хешування для перевірки цілісності повідомлень у client.py та server.py.


